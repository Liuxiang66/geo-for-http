{"version":3,"sources":["./lib/geo.js"],"names":["Object","defineProperty","exports","value","_bluebird","require","_bluebird2","_interopRequireDefault","obj","__esModule","default","geo","register","getCurrentPosition","DEFAULT_APP_NAME","Date","DEFAULT_APP_KEY","MAP_TYPES","HTML5","type","app_key","app_name","QQMAP","BMAP","AMAP","GMAP","ERROR_TYPE","1","2","3","util","isHttps","location","protocol","isSupportGeo","window","navigator","geolocation","isObject","prototype","toString","call","isFunction","appInfo","arguments","length","undefined","mapKeys","keys","targetMap","filter","item","index","mapType","posOptions","resolve","reject","_H5Location","successFn","errorFn","_useMapLocation","pos","position","coords","lat","latitude","lng","longitude","maptype","point","err","code","console","error","message","_AMapLocation","_BMapLocation","_QQMapLocation","_getScript","then","aMapWrapId","map","createAMap","AMap","Map","plugin","Geolocation","onComplete","status","result","next","container","document","createElement","id","style","display","body","appendChild","BMap","this","getStatus","BMAP_STATUS_SUCCESS","qq","maps","getLocation","url","sc","src","onload","onreadystatechange","readyState","test","onerror","module"],"mappings":"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","file":"./lib/geo.min.js"}